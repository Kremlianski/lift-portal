{"version":3,"sources":["node_modules/browser-pack/_prelude.js","frontend/ts/template.ts"],"names":[],"mappings":"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","file":"bundle.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","\r\ndeclare interface SEvent {\r\n    from: HTMLElement\r\n    to: HTMLElement\r\n    item: HTMLElement\r\n    oldIndex?: number\r\n    newIndex?: number\r\n}\r\n\r\ndeclare function ajaxRemove(param:JSON):void\r\n\r\n// sorting within one space\r\nfunction sort(space:string, ids: string[]) {\r\n    console.log(space, \" \", ids)\r\n}\r\n\r\n\r\n//adding from editor\r\nfunction add (space: string, item_id: string, ids: string[]) {\r\n\r\n}\r\n\r\n//removing from template\r\nfunction remove (space: string, item_id: string, ids: string[]) {\r\n\r\n}\r\n\r\n   \r\n(<any> window).ajaxSuccess = function(data: any){\r\n    console.log(data)\r\n\r\n};\r\n\r\n\r\n(<any> window).ajaxError = function(){\r\n    \r\n};\r\n\r\n\r\n//moving from one space to another\r\nfunction move (from: string, to: string, item_id: string, ids: string[]) {\r\n\r\n}\r\n\r\n(function(fn:()=>void) {\r\n  if (document.readyState != 'loading') fn()\r\n  else document.addEventListener('DOMContentLoaded', fn)\r\n})(\r\n    function() {\r\n        \r\n        const containerStr: string = `\r\n        <div class=\"panel-heading\">\r\n            <button class=\"btn btn-primary btn-sm close-button\">\r\n               <span class=\"glyphicon glyphicon-remove\"></span>\r\n            </button>\r\n        </div>\r\n        <div class=\"panel-body\">\r\n            <div class=\"space\"></div>\r\n        </div>\r\n        `\r\n        Sortable.create(document.getElementById('editor-panel'), {\r\n            group: {name:'editor', pull: 'clone'},\r\n            animation: 100\r\n        })\r\n\r\n        const items = document.getElementsByClassName('space')\r\n\r\n        let groups: string[] = ['editor']\r\n\r\n        for(let i = 0; i < items.length; i++) {\r\n            createSpace(items.item(i))\r\n        }\r\n\r\n        function createSpace(item:Element):void {\r\n            Sortable.create(item, {\r\n                group: {\r\n                    name: 'space',\r\n                    put: ['editor', 'space']\r\n                } ,\r\n                animation: 100,\r\n                onAdd: function(event: SEvent) {\r\n                    if(event.from.id == 'editor-panel') {\r\n                        const item = event.item\r\n                        $(item)\r\n                        .removeAttr('id')\r\n                        .addClass('panel panel-primary widget')\r\n                        .html(containerStr)\r\n                        .find('.close-button')\r\n                        .on('click', function(){\r\n                            item.remove()\r\n                        })\r\n\r\n                        const space = $(item).find('.space').get(0)\r\n                        if(space) createSpace(space)\r\n                    }\r\n                },\r\n                onUpdate: function(event: SEvent) {\r\n                    const ids: string[] = []\r\n                    $(event.to).children().each(\r\n                        function(){\r\n                            ids.push(this.id)\r\n                        })\r\n                    sort(event.to.id, ids)\r\n                },\r\n                onStart: function(event: SEvent) {\r\n                    $(event.item)\r\n                    .addClass('dragging')\r\n                },\r\n                onEnd: function(event: SEvent) {\r\n                    $(event.item)\r\n                    .removeClass('dragging')\r\n                },\r\n                draggable: '.widget'\r\n            })\r\n        }\r\n        \r\n    }\r\n)\r\n\r\n"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJmcm9udGVuZC90cy90ZW1wbGF0ZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7O0FDV0EsQUFBMkI7QUFDM0IsY0FBYyxBQUFZLE9BQUUsQUFBYTtBQUNyQyxBQUFPLFlBQUMsQUFBRyxJQUFDLEFBQUssT0FBRSxBQUFHLEtBQUUsQUFBRyxBQUFDLEFBQ2hDO0FBQUM7QUFHRCxBQUFvQjtBQUNwQixhQUFjLEFBQWEsT0FBRSxBQUFlLFNBQUUsQUFBYSxLQUUzRCxDQUFDO0FBRUQsQUFBd0I7QUFDeEIsZ0JBQWlCLEFBQWEsT0FBRSxBQUFlLFNBQUUsQUFBYSxLQUU5RCxDQUFDO0FBR00sQUFBTyxPQUFDLEFBQVcsY0FBRyxVQUFTLEFBQVM7QUFDM0MsQUFBTyxZQUFDLEFBQUcsSUFBQyxBQUFJLEFBQUMsQUFFckI7QUFBQyxBQUFDO0FBR0ssQUFBTyxPQUFDLEFBQVMsWUFBRyxZQUUzQixDQUFDLEFBQUM7QUFHRixBQUFrQztBQUNsQyxjQUFlLEFBQVksTUFBRSxBQUFVLElBQUUsQUFBZSxTQUFFLEFBQWEsS0FFdkUsQ0FBQztBQUVELENBQUMsVUFBUyxBQUFXO0FBQ25CLEFBQUUsQUFBQyxRQUFDLEFBQVEsU0FBQyxBQUFVLGNBQUksQUFBUyxBQUFDLFdBQUMsQUFBRSxBQUFFLEFBQzFDLEFBQUksVUFBQyxBQUFRLFNBQUMsQUFBZ0IsaUJBQUMsQUFBa0Isb0JBQUUsQUFBRSxBQUFDLEFBQ3hEO0FBQUMsQUFBQyxHQUNFO0FBRUksUUFBTSxBQUFZLEFBQVcsQUFTNUI7QUFDRCxBQUFRLGFBQUMsQUFBTSxPQUFDLEFBQVEsU0FBQyxBQUFjLGVBQUMsQUFBYyxBQUFDO0FBQ25ELEFBQUssZUFBRSxFQUFDLEFBQUksTUFBQyxBQUFRLFVBQUUsQUFBSSxNQUFFLEFBQU8sQUFBQztBQUNyQyxBQUFTLG1CQUFFLEFBQUcsQUFDakIsQUFBQztBQUh1RDtBQUt6RCxRQUFNLEFBQUssUUFBRyxBQUFRLFNBQUMsQUFBc0IsdUJBQUMsQUFBTyxBQUFDO0FBRXRELFFBQUksQUFBTSxTQUFhLENBQUMsQUFBUSxBQUFDO0FBRWpDLEFBQUcsU0FBQyxJQUFJLEFBQUMsSUFBRyxBQUFDLEdBQUUsQUFBQyxJQUFHLEFBQUssTUFBQyxBQUFNLFFBQUUsQUFBQyxBQUFFLEtBQUUsQUFBQztBQUNuQyxBQUFXLG9CQUFDLEFBQUssTUFBQyxBQUFJLEtBQUMsQUFBQyxBQUFDLEFBQUMsQUFDOUI7QUFBQztBQUVELHlCQUFxQixBQUFZO0FBQzdCLEFBQVEsaUJBQUMsQUFBTSxPQUFDLEFBQUk7QUFDaEIsQUFBSztBQUNELEFBQUksc0JBQUUsQUFBTztBQUNiLEFBQUcscUJBQUUsQ0FBQyxBQUFRLFVBQUUsQUFBTyxBQUFDLEFBQzNCO0FBSE07QUFJUCxBQUFTLHVCQUFFLEFBQUc7QUFDZCxBQUFLLG1CQUFFLGVBQVMsQUFBYTtBQUN6QixBQUFFLG9CQUFDLEFBQUssTUFBQyxBQUFJLEtBQUMsQUFBRSxNQUFJLEFBQWMsQUFBQyxnQkFBQyxBQUFDO0FBQ2pDLHdCQUFNLEFBQUksUUFBRyxBQUFLLE1BQUMsQUFBSTtBQUN2QixBQUFDLHNCQUFDLEFBQUksQUFBQyxPQUNOLEFBQVUsV0FBQyxBQUFJLEFBQUMsTUFDaEIsQUFBUSxTQUFDLEFBQTRCLEFBQUMsOEJBQ3RDLEFBQUksS0FBQyxBQUFZLEFBQUMsY0FDbEIsQUFBSSxLQUFDLEFBQWUsQUFBQyxpQkFDckIsQUFBRSxHQUFDLEFBQU8sU0FBRTtBQUNULEFBQUksOEJBQUMsQUFBTSxBQUFFLEFBQ2pCO0FBQUMsQUFBQztBQUVGLHdCQUFNLEFBQUssUUFBRyxBQUFDLEVBQUMsQUFBSSxBQUFDLE9BQUMsQUFBSSxLQUFDLEFBQVEsQUFBQyxVQUFDLEFBQUcsSUFBQyxBQUFDLEFBQUM7QUFDM0MsQUFBRSx3QkFBQyxBQUFLLEFBQUMsT0FBQyxBQUFXLFlBQUMsQUFBSyxBQUFDLEFBQ2hDO0FBQUMsQUFDTDtBQUFDO0FBQ0QsQUFBUSxzQkFBRSxrQkFBUyxBQUFhO0FBQzVCLG9CQUFNLEFBQUcsTUFBYSxBQUFFO0FBQ3hCLEFBQUMsa0JBQUMsQUFBSyxNQUFDLEFBQUUsQUFBQyxJQUFDLEFBQVEsQUFBRSxXQUFDLEFBQUksS0FDdkI7QUFDSSxBQUFHLHdCQUFDLEFBQUksS0FBQyxBQUFJLEtBQUMsQUFBRSxBQUFDLEFBQ3JCO0FBQUMsQUFBQztBQUNOLEFBQUkscUJBQUMsQUFBSyxNQUFDLEFBQUUsR0FBQyxBQUFFLElBQUUsQUFBRyxBQUFDLEFBQzFCO0FBQUM7QUFDRCxBQUFPLHFCQUFFLGlCQUFTLEFBQWE7QUFDM0IsQUFBQyxrQkFBQyxBQUFLLE1BQUMsQUFBSSxBQUFDLE1BQ1osQUFBUSxTQUFDLEFBQVUsQUFBQyxBQUN6QjtBQUFDO0FBQ0QsQUFBSyxtQkFBRSxlQUFTLEFBQWE7QUFDekIsQUFBQyxrQkFBQyxBQUFLLE1BQUMsQUFBSSxBQUFDLE1BQ1osQUFBVyxZQUFDLEFBQVUsQUFBQyxBQUM1QjtBQUFDO0FBQ0QsQUFBUyx1QkFBRSxBQUFTLEFBQ3ZCLEFBQUMsQUFDTjtBQXhDMEI7QUF3Q3pCLEFBRUw7QUFBQyxBQUNKIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3ZhciBmPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIik7dGhyb3cgZi5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGZ9dmFyIGw9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sbCxsLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSIsIlxyXG5kZWNsYXJlIGludGVyZmFjZSBTRXZlbnQge1xyXG4gICAgZnJvbTogSFRNTEVsZW1lbnRcclxuICAgIHRvOiBIVE1MRWxlbWVudFxyXG4gICAgaXRlbTogSFRNTEVsZW1lbnRcclxuICAgIG9sZEluZGV4PzogbnVtYmVyXHJcbiAgICBuZXdJbmRleD86IG51bWJlclxyXG59XHJcblxyXG5kZWNsYXJlIGZ1bmN0aW9uIGFqYXhSZW1vdmUocGFyYW06SlNPTik6dm9pZFxyXG5cclxuLy8gc29ydGluZyB3aXRoaW4gb25lIHNwYWNlXHJcbmZ1bmN0aW9uIHNvcnQoc3BhY2U6c3RyaW5nLCBpZHM6IHN0cmluZ1tdKSB7XHJcbiAgICBjb25zb2xlLmxvZyhzcGFjZSwgXCIgXCIsIGlkcylcclxufVxyXG5cclxuXHJcbi8vYWRkaW5nIGZyb20gZWRpdG9yXHJcbmZ1bmN0aW9uIGFkZCAoc3BhY2U6IHN0cmluZywgaXRlbV9pZDogc3RyaW5nLCBpZHM6IHN0cmluZ1tdKSB7XHJcblxyXG59XHJcblxyXG4vL3JlbW92aW5nIGZyb20gdGVtcGxhdGVcclxuZnVuY3Rpb24gcmVtb3ZlIChzcGFjZTogc3RyaW5nLCBpdGVtX2lkOiBzdHJpbmcsIGlkczogc3RyaW5nW10pIHtcclxuXHJcbn1cclxuXHJcbiAgIFxyXG4oPGFueT4gd2luZG93KS5hamF4U3VjY2VzcyA9IGZ1bmN0aW9uKGRhdGE6IGFueSl7XHJcbiAgICBjb25zb2xlLmxvZyhkYXRhKVxyXG5cclxufTtcclxuXHJcblxyXG4oPGFueT4gd2luZG93KS5hamF4RXJyb3IgPSBmdW5jdGlvbigpe1xyXG4gICAgXHJcbn07XHJcblxyXG5cclxuLy9tb3ZpbmcgZnJvbSBvbmUgc3BhY2UgdG8gYW5vdGhlclxyXG5mdW5jdGlvbiBtb3ZlIChmcm9tOiBzdHJpbmcsIHRvOiBzdHJpbmcsIGl0ZW1faWQ6IHN0cmluZywgaWRzOiBzdHJpbmdbXSkge1xyXG5cclxufVxyXG5cclxuKGZ1bmN0aW9uKGZuOigpPT52b2lkKSB7XHJcbiAgaWYgKGRvY3VtZW50LnJlYWR5U3RhdGUgIT0gJ2xvYWRpbmcnKSBmbigpXHJcbiAgZWxzZSBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgZm4pXHJcbn0pKFxyXG4gICAgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgXHJcbiAgICAgICAgY29uc3QgY29udGFpbmVyU3RyOiBzdHJpbmcgPSBgXHJcbiAgICAgICAgPGRpdiBjbGFzcz1cInBhbmVsLWhlYWRpbmdcIj5cclxuICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImJ0biBidG4tcHJpbWFyeSBidG4tc20gY2xvc2UtYnV0dG9uXCI+XHJcbiAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZ2x5cGhpY29uIGdseXBoaWNvbi1yZW1vdmVcIj48L3NwYW4+XHJcbiAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJwYW5lbC1ib2R5XCI+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzcGFjZVwiPjwvZGl2PlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICAgIGBcclxuICAgICAgICBTb3J0YWJsZS5jcmVhdGUoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VkaXRvci1wYW5lbCcpLCB7XHJcbiAgICAgICAgICAgIGdyb3VwOiB7bmFtZTonZWRpdG9yJywgcHVsbDogJ2Nsb25lJ30sXHJcbiAgICAgICAgICAgIGFuaW1hdGlvbjogMTAwXHJcbiAgICAgICAgfSlcclxuXHJcbiAgICAgICAgY29uc3QgaXRlbXMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdzcGFjZScpXHJcblxyXG4gICAgICAgIGxldCBncm91cHM6IHN0cmluZ1tdID0gWydlZGl0b3InXVxyXG5cclxuICAgICAgICBmb3IobGV0IGkgPSAwOyBpIDwgaXRlbXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgY3JlYXRlU3BhY2UoaXRlbXMuaXRlbShpKSlcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIGNyZWF0ZVNwYWNlKGl0ZW06RWxlbWVudCk6dm9pZCB7XHJcbiAgICAgICAgICAgIFNvcnRhYmxlLmNyZWF0ZShpdGVtLCB7XHJcbiAgICAgICAgICAgICAgICBncm91cDoge1xyXG4gICAgICAgICAgICAgICAgICAgIG5hbWU6ICdzcGFjZScsXHJcbiAgICAgICAgICAgICAgICAgICAgcHV0OiBbJ2VkaXRvcicsICdzcGFjZSddXHJcbiAgICAgICAgICAgICAgICB9ICxcclxuICAgICAgICAgICAgICAgIGFuaW1hdGlvbjogMTAwLFxyXG4gICAgICAgICAgICAgICAgb25BZGQ6IGZ1bmN0aW9uKGV2ZW50OiBTRXZlbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZihldmVudC5mcm9tLmlkID09ICdlZGl0b3ItcGFuZWwnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGl0ZW0gPSBldmVudC5pdGVtXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICQoaXRlbSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgLnJlbW92ZUF0dHIoJ2lkJylcclxuICAgICAgICAgICAgICAgICAgICAgICAgLmFkZENsYXNzKCdwYW5lbCBwYW5lbC1wcmltYXJ5IHdpZGdldCcpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5odG1sKGNvbnRhaW5lclN0cilcclxuICAgICAgICAgICAgICAgICAgICAgICAgLmZpbmQoJy5jbG9zZS1idXR0b24nKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAub24oJ2NsaWNrJywgZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0ucmVtb3ZlKClcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHNwYWNlID0gJChpdGVtKS5maW5kKCcuc3BhY2UnKS5nZXQoMClcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoc3BhY2UpIGNyZWF0ZVNwYWNlKHNwYWNlKVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBvblVwZGF0ZTogZnVuY3Rpb24oZXZlbnQ6IFNFdmVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGlkczogc3RyaW5nW10gPSBbXVxyXG4gICAgICAgICAgICAgICAgICAgICQoZXZlbnQudG8pLmNoaWxkcmVuKCkuZWFjaChcclxuICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkcy5wdXNoKHRoaXMuaWQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgc29ydChldmVudC50by5pZCwgaWRzKVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIG9uU3RhcnQ6IGZ1bmN0aW9uKGV2ZW50OiBTRXZlbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICAkKGV2ZW50Lml0ZW0pXHJcbiAgICAgICAgICAgICAgICAgICAgLmFkZENsYXNzKCdkcmFnZ2luZycpXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgb25FbmQ6IGZ1bmN0aW9uKGV2ZW50OiBTRXZlbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICAkKGV2ZW50Lml0ZW0pXHJcbiAgICAgICAgICAgICAgICAgICAgLnJlbW92ZUNsYXNzKCdkcmFnZ2luZycpXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZHJhZ2dhYmxlOiAnLndpZGdldCdcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICB9XHJcbilcclxuXHJcbiJdfQ=="}