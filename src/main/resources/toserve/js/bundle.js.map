{"version":3,"sources":["node_modules/browser-pack/_prelude.js","frontend/ts/template.ts"],"names":[],"mappings":"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","file":"bundle.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","\r\ndeclare interface SEvent {\r\n    from: HTMLElement\r\n    to: HTMLElement\r\n    item: HTMLElement\r\n    oldIndex?: number\r\n    newIndex?: number\r\n}\r\n\r\ndeclare function ajaxRemove(param:JSON):void\r\n\r\ndeclare function createSpace(item: Element): void\r\n\r\ndeclare function createSpaces():void\r\n\r\ndeclare function loadHtml(id: string):void\r\n\r\n\r\n;(<any> window).createSpaces = function():void {\r\n\r\n    $('.space')\r\n    \r\n    .filter(function(){\r\n        return !$(this).hasClass('space-init')\r\n    })\r\n    .addClass('space-init')\r\n    .each(function(){\r\n        createSpace(this)\r\n    })\r\n\r\n}\r\n\r\n;(<any> window).createSpace = function(item:Element):void {\r\n\r\n    const containerStr: string = `\r\n        <div class=\"panel-heading\">\r\n            <button class=\"btn btn-primary btn-sm close-button\">\r\n               <span class=\"glyphicon glyphicon-remove\"></span>\r\n            </button>\r\n        </div>\r\n        <div class=\"panel-body\">\r\n            <div id=\"target\"></div>\r\n        </div>\r\n        `\r\n        Sortable.create(item, {\r\n            group: {\r\n                name: 'space',\r\n                put: ['editor', 'space']\r\n            } ,\r\n            animation: 100,\r\n            onAdd: function(event: SEvent) {\r\n                if(event.from.id == 'editor-panel') {\r\n                    const item = event.item\r\n                    const id = $(item).parent().attr('id')\r\n                    $(item)\r\n                    .removeAttr('id')\r\n                    .addClass('panel panel-primary widget')\r\n                    .html(containerStr)\r\n                    .find('.close-button')\r\n                    .on('click', function(){\r\n                        item.remove()\r\n                    })\r\n\r\n                loadHtml(id)\r\n                 createSpaces()\r\n                }\r\n            },\r\n            onUpdate: function(event: SEvent) {\r\n                const ids: string[] = []\r\n                $(event.to).children().each(\r\n                    function(){\r\n                        ids.push(this.id)\r\n                    })\r\n                sort(event.to.id, ids)\r\n            },\r\n            onStart: function(event: SEvent) {\r\n                $(event.item)\r\n                .addClass('dragging')\r\n            },\r\n            onEnd: function(event: SEvent) {\r\n                $(event.item)\r\n                .removeClass('dragging')\r\n            },\r\n            draggable: '.widget'\r\n        })\r\n        }\r\n\r\n\r\n\r\n\r\n\r\n\r\n// sorting within one space\r\nfunction sort(space:string, ids: string[]) {\r\n    console.log(space, \" \", ids)\r\n}\r\n\r\n\r\n//adding from editor\r\nfunction add (space: string, item_id: string, ids: string[]) {\r\n\r\n}\r\n\r\n//removing from template\r\nfunction remove (space: string, item_id: string, ids: string[]) {\r\n\r\n}\r\n\r\n   \r\n(<any> window).ajaxSuccess = function(data: any){\r\n    console.log(data)\r\n\r\n};\r\n\r\n\r\n(<any> window).ajaxError = function(){\r\n    \r\n};\r\n\r\n\r\n//moving from one space to another\r\nfunction move (from: string, to: string, item_id: string, ids: string[]) {\r\n\r\n}\r\n\r\n(function(fn:()=>void) {\r\n  if (document.readyState != 'loading') fn()\r\n  else document.addEventListener('DOMContentLoaded', fn)\r\n})(\r\n    function() {\r\n        \r\n        Sortable.create(document.getElementById('editor-panel'), {\r\n            group: {name:'editor', pull: 'clone'},\r\n            animation: 100\r\n        })\r\n\r\n        createSpaces()\r\n\r\n        \r\n        \r\n    }\r\n)\r\n\r\n"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJmcm9udGVuZC90cy90ZW1wbGF0ZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7O0FDa0JRLEFBQU8sT0FBQyxBQUFZLGVBQUc7QUFFM0IsQUFBQyxNQUFDLEFBQVEsQUFBQyxVQUVWLEFBQU0sT0FBQztBQUNKLEFBQU0sZUFBQyxDQUFDLEFBQUMsRUFBQyxBQUFJLEFBQUMsTUFBQyxBQUFRLFNBQUMsQUFBWSxBQUFDLEFBQzFDO0FBQUMsQUFBQyxPQUNELEFBQVEsU0FBQyxBQUFZLEFBQUMsY0FDdEIsQUFBSSxLQUFDO0FBQ0YsQUFBVyxvQkFBQyxBQUFJLEFBQUMsQUFDckI7QUFBQyxBQUFDLEFBRU47QUFBQyxBQUVBO0FBQU8sQUFBTyxPQUFDLEFBQVcsY0FBRyxVQUFTLEFBQVk7QUFFL0MsUUFBTSxBQUFZLEFBQVcsQUFTeEI7QUFDRCxBQUFRLGFBQUMsQUFBTSxPQUFDLEFBQUk7QUFDaEIsQUFBSztBQUNELEFBQUksa0JBQUUsQUFBTztBQUNiLEFBQUcsaUJBQUUsQ0FBQyxBQUFRLFVBQUUsQUFBTyxBQUFDLEFBQzNCO0FBSE07QUFJUCxBQUFTLG1CQUFFLEFBQUc7QUFDZCxBQUFLLGVBQUUsZUFBUyxBQUFhO0FBQ3pCLEFBQUUsZ0JBQUMsQUFBSyxNQUFDLEFBQUksS0FBQyxBQUFFLE1BQUksQUFBYyxBQUFDLGdCQUFDLEFBQUM7QUFDakMsb0JBQU0sQUFBSSxRQUFHLEFBQUssTUFBQyxBQUFJO0FBQ3ZCLG9CQUFNLEFBQUUsS0FBRyxBQUFDLEVBQUMsQUFBSSxBQUFDLE9BQUMsQUFBTSxBQUFFLFNBQUMsQUFBSSxLQUFDLEFBQUksQUFBQztBQUN0QyxBQUFDLGtCQUFDLEFBQUksQUFBQyxPQUNOLEFBQVUsV0FBQyxBQUFJLEFBQUMsTUFDaEIsQUFBUSxTQUFDLEFBQTRCLEFBQUMsOEJBQ3RDLEFBQUksS0FBQyxBQUFZLEFBQUMsY0FDbEIsQUFBSSxLQUFDLEFBQWUsQUFBQyxpQkFDckIsQUFBRSxHQUFDLEFBQU8sU0FBRTtBQUNULEFBQUksMEJBQUMsQUFBTSxBQUFFLEFBQ2pCO0FBQUMsQUFBQztBQUVOLEFBQVEseUJBQUMsQUFBRSxBQUFDO0FBQ1gsQUFBWSxBQUFFLEFBQ2Y7QUFBQyxBQUNMO0FBQUM7QUFDRCxBQUFRLGtCQUFFLGtCQUFTLEFBQWE7QUFDNUIsZ0JBQU0sQUFBRyxNQUFhLEFBQUU7QUFDeEIsQUFBQyxjQUFDLEFBQUssTUFBQyxBQUFFLEFBQUMsSUFBQyxBQUFRLEFBQUUsV0FBQyxBQUFJLEtBQ3ZCO0FBQ0ksQUFBRyxvQkFBQyxBQUFJLEtBQUMsQUFBSSxLQUFDLEFBQUUsQUFBQyxBQUNyQjtBQUFDLEFBQUM7QUFDTixBQUFJLGlCQUFDLEFBQUssTUFBQyxBQUFFLEdBQUMsQUFBRSxJQUFFLEFBQUcsQUFBQyxBQUMxQjtBQUFDO0FBQ0QsQUFBTyxpQkFBRSxpQkFBUyxBQUFhO0FBQzNCLEFBQUMsY0FBQyxBQUFLLE1BQUMsQUFBSSxBQUFDLE1BQ1osQUFBUSxTQUFDLEFBQVUsQUFBQyxBQUN6QjtBQUFDO0FBQ0QsQUFBSyxlQUFFLGVBQVMsQUFBYTtBQUN6QixBQUFDLGNBQUMsQUFBSyxNQUFDLEFBQUksQUFBQyxNQUNaLEFBQVcsWUFBQyxBQUFVLEFBQUMsQUFDNUI7QUFBQztBQUNELEFBQVMsbUJBQUUsQUFBUyxBQUN2QixBQUFDLEFBQ0Y7QUF6Q3NCO0FBeUNyQjtBQU9ULEFBQTJCO0FBQzNCLGNBQWMsQUFBWSxPQUFFLEFBQWE7QUFDckMsQUFBTyxZQUFDLEFBQUcsSUFBQyxBQUFLLE9BQUUsQUFBRyxLQUFFLEFBQUcsQUFBQyxBQUNoQztBQUFDO0FBR0QsQUFBb0I7QUFDcEIsYUFBYyxBQUFhLE9BQUUsQUFBZSxTQUFFLEFBQWEsS0FFM0QsQ0FBQztBQUVELEFBQXdCO0FBQ3hCLGdCQUFpQixBQUFhLE9BQUUsQUFBZSxTQUFFLEFBQWEsS0FFOUQsQ0FBQztBQUdNLEFBQU8sT0FBQyxBQUFXLGNBQUcsVUFBUyxBQUFTO0FBQzNDLEFBQU8sWUFBQyxBQUFHLElBQUMsQUFBSSxBQUFDLEFBRXJCO0FBQUMsQUFBQztBQUdLLEFBQU8sT0FBQyxBQUFTLFlBQUcsWUFFM0IsQ0FBQyxBQUFDO0FBR0YsQUFBa0M7QUFDbEMsY0FBZSxBQUFZLE1BQUUsQUFBVSxJQUFFLEFBQWUsU0FBRSxBQUFhLEtBRXZFLENBQUM7QUFFRCxDQUFDLFVBQVMsQUFBVztBQUNuQixBQUFFLEFBQUMsUUFBQyxBQUFRLFNBQUMsQUFBVSxjQUFJLEFBQVMsQUFBQyxXQUFDLEFBQUUsQUFBRSxBQUMxQyxBQUFJLFVBQUMsQUFBUSxTQUFDLEFBQWdCLGlCQUFDLEFBQWtCLG9CQUFFLEFBQUUsQUFBQyxBQUN4RDtBQUFDLEFBQUMsR0FDRTtBQUVJLEFBQVEsYUFBQyxBQUFNLE9BQUMsQUFBUSxTQUFDLEFBQWMsZUFBQyxBQUFjLEFBQUM7QUFDbkQsQUFBSyxlQUFFLEVBQUMsQUFBSSxNQUFDLEFBQVEsVUFBRSxBQUFJLE1BQUUsQUFBTyxBQUFDO0FBQ3JDLEFBQVMsbUJBQUUsQUFBRyxBQUNqQixBQUFDO0FBSHVEO0FBS3pELEFBQVksQUFBRSxBQUlsQjtBQUFDLEFBQ0oiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiBlKHQsbixyKXtmdW5jdGlvbiBzKG8sdSl7aWYoIW5bb10pe2lmKCF0W29dKXt2YXIgYT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2lmKCF1JiZhKXJldHVybiBhKG8sITApO2lmKGkpcmV0dXJuIGkobywhMCk7dmFyIGY9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitvK1wiJ1wiKTt0aHJvdyBmLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsZn12YXIgbD1uW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwobC5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHMobj9uOmUpfSxsLGwuZXhwb3J0cyxlLHQsbixyKX1yZXR1cm4gbltvXS5leHBvcnRzfXZhciBpPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pIiwiXHJcbmRlY2xhcmUgaW50ZXJmYWNlIFNFdmVudCB7XHJcbiAgICBmcm9tOiBIVE1MRWxlbWVudFxyXG4gICAgdG86IEhUTUxFbGVtZW50XHJcbiAgICBpdGVtOiBIVE1MRWxlbWVudFxyXG4gICAgb2xkSW5kZXg/OiBudW1iZXJcclxuICAgIG5ld0luZGV4PzogbnVtYmVyXHJcbn1cclxuXHJcbmRlY2xhcmUgZnVuY3Rpb24gYWpheFJlbW92ZShwYXJhbTpKU09OKTp2b2lkXHJcblxyXG5kZWNsYXJlIGZ1bmN0aW9uIGNyZWF0ZVNwYWNlKGl0ZW06IEVsZW1lbnQpOiB2b2lkXHJcblxyXG5kZWNsYXJlIGZ1bmN0aW9uIGNyZWF0ZVNwYWNlcygpOnZvaWRcclxuXHJcbmRlY2xhcmUgZnVuY3Rpb24gbG9hZEh0bWwoaWQ6IHN0cmluZyk6dm9pZFxyXG5cclxuXHJcbjsoPGFueT4gd2luZG93KS5jcmVhdGVTcGFjZXMgPSBmdW5jdGlvbigpOnZvaWQge1xyXG5cclxuICAgICQoJy5zcGFjZScpXHJcbiAgICBcclxuICAgIC5maWx0ZXIoZnVuY3Rpb24oKXtcclxuICAgICAgICByZXR1cm4gISQodGhpcykuaGFzQ2xhc3MoJ3NwYWNlLWluaXQnKVxyXG4gICAgfSlcclxuICAgIC5hZGRDbGFzcygnc3BhY2UtaW5pdCcpXHJcbiAgICAuZWFjaChmdW5jdGlvbigpe1xyXG4gICAgICAgIGNyZWF0ZVNwYWNlKHRoaXMpXHJcbiAgICB9KVxyXG5cclxufVxyXG5cclxuOyg8YW55PiB3aW5kb3cpLmNyZWF0ZVNwYWNlID0gZnVuY3Rpb24oaXRlbTpFbGVtZW50KTp2b2lkIHtcclxuXHJcbiAgICBjb25zdCBjb250YWluZXJTdHI6IHN0cmluZyA9IGBcclxuICAgICAgICA8ZGl2IGNsYXNzPVwicGFuZWwtaGVhZGluZ1wiPlxyXG4gICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi1wcmltYXJ5IGJ0bi1zbSBjbG9zZS1idXR0b25cIj5cclxuICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJnbHlwaGljb24gZ2x5cGhpY29uLXJlbW92ZVwiPjwvc3Bhbj5cclxuICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPGRpdiBjbGFzcz1cInBhbmVsLWJvZHlcIj5cclxuICAgICAgICAgICAgPGRpdiBpZD1cInRhcmdldFwiPjwvZGl2PlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICAgIGBcclxuICAgICAgICBTb3J0YWJsZS5jcmVhdGUoaXRlbSwge1xyXG4gICAgICAgICAgICBncm91cDoge1xyXG4gICAgICAgICAgICAgICAgbmFtZTogJ3NwYWNlJyxcclxuICAgICAgICAgICAgICAgIHB1dDogWydlZGl0b3InLCAnc3BhY2UnXVxyXG4gICAgICAgICAgICB9ICxcclxuICAgICAgICAgICAgYW5pbWF0aW9uOiAxMDAsXHJcbiAgICAgICAgICAgIG9uQWRkOiBmdW5jdGlvbihldmVudDogU0V2ZW50KSB7XHJcbiAgICAgICAgICAgICAgICBpZihldmVudC5mcm9tLmlkID09ICdlZGl0b3ItcGFuZWwnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaXRlbSA9IGV2ZW50Lml0ZW1cclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBpZCA9ICQoaXRlbSkucGFyZW50KCkuYXR0cignaWQnKVxyXG4gICAgICAgICAgICAgICAgICAgICQoaXRlbSlcclxuICAgICAgICAgICAgICAgICAgICAucmVtb3ZlQXR0cignaWQnKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hZGRDbGFzcygncGFuZWwgcGFuZWwtcHJpbWFyeSB3aWRnZXQnKVxyXG4gICAgICAgICAgICAgICAgICAgIC5odG1sKGNvbnRhaW5lclN0cilcclxuICAgICAgICAgICAgICAgICAgICAuZmluZCgnLmNsb3NlLWJ1dHRvbicpXHJcbiAgICAgICAgICAgICAgICAgICAgLm9uKCdjbGljaycsIGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0ucmVtb3ZlKClcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG5cclxuICAgICAgICAgICAgICAgIGxvYWRIdG1sKGlkKVxyXG4gICAgICAgICAgICAgICAgIGNyZWF0ZVNwYWNlcygpXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIG9uVXBkYXRlOiBmdW5jdGlvbihldmVudDogU0V2ZW50KSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBpZHM6IHN0cmluZ1tdID0gW11cclxuICAgICAgICAgICAgICAgICQoZXZlbnQudG8pLmNoaWxkcmVuKCkuZWFjaChcclxuICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZHMucHVzaCh0aGlzLmlkKVxyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICBzb3J0KGV2ZW50LnRvLmlkLCBpZHMpXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIG9uU3RhcnQ6IGZ1bmN0aW9uKGV2ZW50OiBTRXZlbnQpIHtcclxuICAgICAgICAgICAgICAgICQoZXZlbnQuaXRlbSlcclxuICAgICAgICAgICAgICAgIC5hZGRDbGFzcygnZHJhZ2dpbmcnKVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBvbkVuZDogZnVuY3Rpb24oZXZlbnQ6IFNFdmVudCkge1xyXG4gICAgICAgICAgICAgICAgJChldmVudC5pdGVtKVxyXG4gICAgICAgICAgICAgICAgLnJlbW92ZUNsYXNzKCdkcmFnZ2luZycpXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGRyYWdnYWJsZTogJy53aWRnZXQnXHJcbiAgICAgICAgfSlcclxuICAgICAgICB9XHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcbi8vIHNvcnRpbmcgd2l0aGluIG9uZSBzcGFjZVxyXG5mdW5jdGlvbiBzb3J0KHNwYWNlOnN0cmluZywgaWRzOiBzdHJpbmdbXSkge1xyXG4gICAgY29uc29sZS5sb2coc3BhY2UsIFwiIFwiLCBpZHMpXHJcbn1cclxuXHJcblxyXG4vL2FkZGluZyBmcm9tIGVkaXRvclxyXG5mdW5jdGlvbiBhZGQgKHNwYWNlOiBzdHJpbmcsIGl0ZW1faWQ6IHN0cmluZywgaWRzOiBzdHJpbmdbXSkge1xyXG5cclxufVxyXG5cclxuLy9yZW1vdmluZyBmcm9tIHRlbXBsYXRlXHJcbmZ1bmN0aW9uIHJlbW92ZSAoc3BhY2U6IHN0cmluZywgaXRlbV9pZDogc3RyaW5nLCBpZHM6IHN0cmluZ1tdKSB7XHJcblxyXG59XHJcblxyXG4gICBcclxuKDxhbnk+IHdpbmRvdykuYWpheFN1Y2Nlc3MgPSBmdW5jdGlvbihkYXRhOiBhbnkpe1xyXG4gICAgY29uc29sZS5sb2coZGF0YSlcclxuXHJcbn07XHJcblxyXG5cclxuKDxhbnk+IHdpbmRvdykuYWpheEVycm9yID0gZnVuY3Rpb24oKXtcclxuICAgIFxyXG59O1xyXG5cclxuXHJcbi8vbW92aW5nIGZyb20gb25lIHNwYWNlIHRvIGFub3RoZXJcclxuZnVuY3Rpb24gbW92ZSAoZnJvbTogc3RyaW5nLCB0bzogc3RyaW5nLCBpdGVtX2lkOiBzdHJpbmcsIGlkczogc3RyaW5nW10pIHtcclxuXHJcbn1cclxuXHJcbihmdW5jdGlvbihmbjooKT0+dm9pZCkge1xyXG4gIGlmIChkb2N1bWVudC5yZWFkeVN0YXRlICE9ICdsb2FkaW5nJykgZm4oKVxyXG4gIGVsc2UgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsIGZuKVxyXG59KShcclxuICAgIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIFxyXG4gICAgICAgIFNvcnRhYmxlLmNyZWF0ZShkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWRpdG9yLXBhbmVsJyksIHtcclxuICAgICAgICAgICAgZ3JvdXA6IHtuYW1lOidlZGl0b3InLCBwdWxsOiAnY2xvbmUnfSxcclxuICAgICAgICAgICAgYW5pbWF0aW9uOiAxMDBcclxuICAgICAgICB9KVxyXG5cclxuICAgICAgICBjcmVhdGVTcGFjZXMoKVxyXG5cclxuICAgICAgICBcclxuICAgICAgICBcclxuICAgIH1cclxuKVxyXG5cclxuIl19"}